{"version":3,"sources":["js/dateConversion.js","js/closeModal.js","js/createModal.js","js/renderArticles.js"],"names":["convertLongDateToShort","object","date","months","day","substring","month","parseInt","year","removeModalElementsAfterFade","removables","document","querySelectorAll","removeElsPromise","Promise","resolve","reject","forEach","removable","classList","add","then","setTimeout","body","removeChild","catch","err","console","log","closeModal","event","key","target","contains","createNewModal","articleID","getAttribute","loadedArticle","fetch","data","json","posts","array","find","a","id","title","created_at","author","authors","name","content","html","headerContent","modal","createElement","articleContent","append","innerHTML","closeButton","textContent","addEventListener","backdrop","allArticles","fetchToJson","article","addArticlesHtmlToSection","onclickArray","createAndOpenArticleModal","articleSection","createSectionForHtmlInject","articleNumIncrementer","articleElement","currentModal","length","window","scrollTo"],"mappings":";;AGAA;;AACA;;AACA;ADFA,AFAO,SAASA,sBAAT,CAAgCC,MAAhC,EAAwC;AAC7C,MAAIC,IAAI,GAAGD,MAAM,CAACC,IAAlB;AEAF,AFCI,MAAMC,MAAM,GAAG,CACb,SADa,EAEb,UAFa,EAGb,OAHa,EAIb,OAJa,EAKb,KALa,EAMb,MANa,EAOb,MAPa,EAQb,QARa,EASb,WATa,EAUb,SAVa,EAWb,UAXa,EAYb,UAZa,CAAf;AAcA,MAAIC,GAAG,GAAGF,IAAI,CAACG,SAAL,CAAe,CAAf,EAAkB,EAAlB,CAAV;AEbG,AFcH,MAAIC,GEdQ4B,EFcH,GAAG/B,MAAM,CAACI,EEdhB,CAAwBuB,KAAxB,AFcwB,CAAC5B,CEdM,GFcF,CAACG,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAAD,EAAuB,EAAvB,CAAR,GAAqC,CAAtC,CAAN,CAA+CA,SAA/C,CAAyD,CAAzD,EAA4D,CAA5D,CAAZ;AEbA,AFcA,MEdM8B,AFcF3B,IAAI,GAAGN,EEdI,EFcA,CEdG4B,AFcFzB,KEdO,CAAC2B,GFcb,CAAe,CAAf,CEdO,CAAaI,AFcF,CAAlB,CAAX,UEdkB,CAA0B,SAA1B,CAAlB;AACA,AFcA,MEdIC,aAAJ,AFcUjC,GAAV,eAAkBE,KAAlB,eAA4BE,IAA5B;AEbA8B,AFcD,EEdCA,KAAK,CAAC,uGAAD,CAAL,CACGjB,IADH,CACQ,UAAAkB,IAAI;AAAA,WAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,GADZ,EAEGnB,IAFH,CAEQ,UAAAmB,IAAI;AAAA,WAAIA,IAAI,CAACC,KAAT;AAAA,GAFZ,EAGGpB,IAHH,CAGQ,UAAAqB,KAAK;ADTjB,ACSiB,SDTRjC,ECSYiC,KAAK,CAACC,IAAN,CAAW,UAAAC,CAAC,IDTjC,GAAwC;AACpC,ACQ6B,ACJjC,MFJUlC,OCQ2BkC,CAAC,CAACC,CDRnB,CCQiB,KAASV,SAAb,ODRNxB,QAAQ,CAACC,gBAAT,CAA0B,gBAA1B,CAAP,CAAhB;ACQ6B,ACHjC,IAAImD,CDGiB,CAAJ,SCHF,GAAG,EAAlB;AFJI,ACOa,ACFjBzB,GDDI,EAIGjB,ACHF,CFLKR,AEMR,GDFE,CAIQ,UAAAZ,EDRc,GAAG,CCQX,EAAI,CDRWa,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB,6CEKzD,CAAL,CAGGK,IAHH,CAGQ,UAAC2C,WAAD;AFPFtD,ACQE2B,ACDA,IFPF3B,ACQE2B,KCDiB2B,KFPT,CAAC/C,ECQI,GAAG,ACDY,CAACuB,CFP/B,CAAmB,EEOA,EAAjB,MFPiBtB,SAAS,EAAI;AAC9BA,ACQE4B,ACFF,CAHR,EAIGzB,GFPKH,ACQE4B,CCLV,CAIQ,GDCO,EAAE7C,EDRA,CAACkB,EEOTqB,CDCc,CAACM,ECDhB,EAAU,CFPV,ACOgB,CDPI1B,GAApB,CAAwB,UAAxB;AACD,ACQGyB,ACDNL,EAAAA,GFTE,CCUIK,ACDF,CAACJ,CDCG,EAAExC,ECDV,CAAWgB,GDCK,CAAC4B,EAFG,CCCpB,CAAmB,UAAAoB,OAAO,EAAI;AFN7B,ACQK/D,ACDJ6D,GFXuB,CAAzB,AEWEA,EDCI7D,IAAI,EAAED,GCDC,GDCK,CAAC8C,UAHC,kBCEAgB,WAAP,IAAoB;AFNjClD,ACQMmC,ACDFF,EFPJjC,ICQMmC,ACDFF,KAAK,CDCG,CCDDmB,CDCGhE,IDRE,CACboB,CCOiB,ACDF,CDCG4B,ACDFH,EFPnB,CACQxB,EEKyB,EDEnB,CAAe,CAAf,EAAkB4B,EDPd,CAAC,CCGC,WDHK;AACrBxC,ACOEyC,ACDFN,IFNAnC,ECOEyC,ACDFN,EAAE,EAAEoB,GDCK,CDPC,CAAChD,ACOAhB,ECDA,CAAC4C,EAFiB,CDGZ,CDPjB,ACOkBO,CDPC,UAAAlC,SAAS,EAAI;AAC9BP,ACCc,ACKhBT,KDLA,CDDES,AEMFT,IAAI,EAAE+D,EFNI,CAAC1C,IAAT,AEMW,CFNGC,AEMFuB,UAHe,CFH3B,CAA0B7B,SAA1B;AACD,ACOF,ACDC8B,GDXJ,EDGI,ACUF,CCFEA,MAAM,EAAEiB,OAAO,CAAChB,OAAR,CAAgB,CAAhB,EAAmBC;AFL5B,ACNH,ACOiC,GFLf,ACYf7B,EDRE,AECQ,EDPb,ACOE,CDOM,CDZU,CADlB,EAMGI,KANH,CAMS,ECOK,QDPLC,GAAG;AAAA,ACQR,ACFH,GAPD,QFCgBC,ACQLU,ODRY,CAACT,GAAR,CAAYF,CCQJ,CAACxB,CDRT,CAAJ,ECQD,GAAqB,4CAAuBmC,aAAvB,CAA5B;ADRQ,ACST,ACFJ,CAbH,EFAI,ACDA,ACeDhB,EDEIA,EChBP,CAcQ,CDfJ,CAiBQ,UCFE,EDEI;ADTf,ACUK,ACFJ0C,EAAAA,MDEUjB,KAAK,ACFJ,CAAC7B,EDEMoB,KCFlB,CAAoB,ODEW,CAACS,ECFXmB,GDEjB,ICFgB,EAAa;ADG7B,ACFFA,IAAAA,IDEQjB,GCFD,CAAC9C,EDEM,ECFd,CDEiBmC,ECFF,WDEe,CAACW,MAA7B,0BCFoCiB,OAAvB,CAAf;AFPC,ACUC,ACFH,GAFD,KDIU/D,CDVE2B,GCUE,GAAGQ,IDVd,CAAoBP,KAApB,EAA2B,CCUA,CAAC5B,IAA3B;ADTJ,ACUI,ACFL,CAlBH,EAmBGmB,GFTKS,CEVR,CDoBcqB,ACDNe,GFTK,CAACnC,GAAN,ACUa,GAAGM,CDVHP,KAAK,CAACC,GAAN,GCUgB,CAACoB,ACpBtC,CFUmC,CEUhC9B,IApBH,CDoBQ,ACAA,EFVJ,EAAyC,QEU/B;AFTRZ,ACUE,ACAJ,IFVEA,EEUI0D,EDAId,UCAQ,GDAK,WDVO,QEUL1C,QAAQ,CAACC,gBAAT,CAA0B,QDCjBkC,KADX,GCAE,CAAP,CAAlB,8FDG4BE,MAHL,iDAIG9C,IAJH,sCAAnB;ADTF,ACiBE,QAAMoD,KAAK,GAAG3C,QAAQ,CAAC4C,aAAT,CAAuB,KAAvB,CAAd;ADhBH,ACiBGD,ACRJa,EAAAA,EDQIb,KAAK,CAACnC,ICRE,CAACF,IDQT,CAAgBG,ECRpB,CDQI,ACRiB,CDQG,OAApB,EAA6B,ACRZ6C,OAAO,EAAI,MDQ5B;AAEA,ACTFA,IAAAA,IDSQT,GCTD,CAACK,UDSc,GAAGlD,GCTzB,CAAyB,IDSQ,CAAC4C,ECTlC,EAAkCa,SDST,CAAuB,KAAvB,CAAvB,SCTF;AFTF,ACmBId,ACTH,GAFD,CDWIA,EDnBAxB,GCmBK,CAAC2B,CDnBD,CAACzB,ICmBN,CAAawB,CDnBb,CAAarC,SAAb,CAAuBc,ECmBvB,MDnBA,CAAgC,UAAhC,CAAJ,EAAiD;AAC/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","file":"renderArticles.68f4ca03.js","sourceRoot":"..\\src","sourcesContent":["export function convertLongDateToShort(object) {\r\n  let date = object.date;\r\n    const months = [\r\n      \"January\",\r\n      \"February\",\r\n      \"March\",\r\n      \"April\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"August\",\r\n      \"September\",\r\n      \"October\",\r\n      \"November\",\r\n      \"December\"\r\n    ];\r\n    let day = date.substring(8, 10);\r\n    let month = months[parseInt(date.substring(5, 7), 10) - 1].substring(0, 3);\r\n    let year = date.substring(0, 4);\r\n    return `${day}, ${month}, ${year}`;\r\n  }","function removeModalElementsAfterFade() {\r\n    const removables = [...document.querySelectorAll('.removeElement')]\r\n    const removeElsPromise = new Promise((resolve, reject) => {\r\n      removables.forEach(removable => {\r\n        removable.classList.add('fade-out')\r\n      })\r\n    })\r\n    removeElsPromise\r\n      .then(setTimeout(() => {\r\n        removables.forEach(removable => {\r\n          document.body.removeChild(removable)\r\n        })\r\n      }, 1000))\r\n      .catch(err => console.log(err))\r\n  }\r\n  \r\nexport function closeModal(event) {\r\n    if (event.key && event.key === 'Escape') {\r\n      removeModalElementsAfterFade();\r\n      return\r\n    }\r\n    if (event.target.classList.contains('backdrop')) {\r\n      removeModalElementsAfterFade();\r\n      return\r\n    }\r\n    if (event.target.classList.contains('close-button')) {\r\n      removeModalElementsAfterFade();\r\n      return\r\n    }\r\n  }","import { closeModal } from './closeModal.js'\r\nimport { convertLongDateToShort } from './dateConversion.js'\r\n\r\nexport function createNewModal(event) {\r\n    const articleID = event.target.getAttribute(\"data-id\")\r\n    let loadedArticle;\r\n    fetch('https://demo.ghost.io/ghost/api/v3/content/posts/?key=22444f78447824223cefc48062&include=tags,authors')\r\n      .then(data => data.json())\r\n      .then(json => json.posts)\r\n      .then(array => array.find(a => a.id === articleID))\r\n      .then(object => {\r\n        loadedArticle = {\r\n          title: object.title,\r\n          id: object.id,\r\n          date: object.created_at,\r\n          author: object.authors[0].name,\r\n          content: object.html\r\n        }\r\n      })\r\n      //!Fix the conversion function to take in the correct property name (not date, but created_at) instead.\r\n      .then(() => {\r\n        return loadedArticle.date = convertLongDateToShort(loadedArticle)\r\n      })\r\n      .then(() => {\r\n        const title = loadedArticle.title;\r\n        const author = loadedArticle.author\r\n        const date = loadedArticle.date\r\n        const content = loadedArticle.content\r\n        const headerContent = `\r\n          <h2 class=\"article_title\">${title}</h2>\r\n          <div class=\"meta-data-container\">\r\n            <p class=\"author\">${author}</p>\r\n            <p class=\"date\">${date}</p> \r\n          </div>\r\n        `\r\n      \r\n        const modal = document.createElement('div')\r\n        modal.classList.add('modal', 'removeElement')\r\n      \r\n        const articleContent = document.createElement('div')\r\n        modal.append(articleContent)\r\n        articleContent.innerHTML = headerContent + content\r\n      \r\n        const closeButton = document.createElement('span')\r\n        closeButton.textContent = 'X'\r\n        closeButton.classList.add('close-button')\r\n        closeButton.addEventListener('click', closeModal)\r\n        modal.append(closeButton)\r\n      \r\n        const backdrop = document.createElement('backdrop')\r\n        document.body.append(backdrop)\r\n        backdrop.classList.add('backdrop', 'removeElement')\r\n        backdrop.addEventListener('click', closeModal)\r\n      \r\n        document.body.append(modal)\r\n      \r\n        loadedArticle = {}\r\n      })\r\n      .catch(err => console.log(err))\r\n  }","import { convertLongDateToShort } from './dateConversion.js'\r\nimport { closeModal } from './closeModal.js'\r\nimport {createNewModal} from './createModal.js'\r\n\r\n\r\n//:Array storing main article data, see below object\r\nlet allArticles = [];\r\nfetch(\r\n  \"https://demo.ghost.io/ghost/api/v3/content/posts/?key=22444f78447824223cefc48062&include=tags,authors\"\r\n)\r\n  .then((fetchToJson) => fetchToJson.json())\r\n  .then((json) => {\r\n    json.posts.forEach(article => {\r\n      allArticles = [...allArticles, {\r\n        title: article.title,\r\n        id: article.id,\r\n        date: article.created_at,\r\n        author: article.authors[0].name\r\n      }]\r\n    })\r\n  })\r\n  .then(() => {\r\n    allArticles.forEach((article) => {\r\n      article.date = convertLongDateToShort(article);\r\n    });\r\n  })\r\n  .then(addArticlesHtmlToSection)\r\n  .then(() => {\r\n    const onclickArray = [...document.querySelectorAll('.article_title')]\r\n    onclickArray.forEach(article => {\r\n      article.addEventListener(\"click\", createAndOpenArticleModal)\r\n    })\r\n  })\r\n  .catch((err) => console.log(err));\r\n\r\nlet articleSection = document.createElement(\"section\");\r\nfunction createSectionForHtmlInject() {\r\n  articleSection.classList.add('articles')\r\n  document.body.append(articleSection);\r\n}\r\n\r\ncreateSectionForHtmlInject();\r\n\r\nlet articleNumIncrementer = 1;\r\n\r\nfunction addArticlesHtmlToSection() {\r\n  allArticles.forEach((article) => {\r\n    const id = article.id;\r\n    const articleElement = document.createElement(\"article\");\r\n    articleSection.append(articleElement);\r\n    articleElement.id = id\r\n    const title = article.title;\r\n    const author = article.author;\r\n    const date = article.date;\r\n    const articleContent = `\r\n        <h2 class=\"article_title article-no-${articleNumIncrementer}\" data-id=\"${id}\">${title}</h2>\r\n        <div class=\"meta-data-container\">\r\n          <p class=\"author\">${author}</p>\r\n          <p class=\"date\">${date}</p> \r\n        </div>\r\n        `;\r\n    articleElement.innerHTML = articleContent;\r\n    articleNumIncrementer++;\r\n  });\r\n}\r\n\r\n\r\n\r\nfunction createAndOpenArticleModal(event) {\r\n  const currentModal = [...document.querySelectorAll('.modal')]\r\n  if (currentModal.length && currentModal.length > 0) {\r\n    document.body.removeChild(currentModal[0])\r\n    createNewModal(event)\r\n  } else {\r\n    createNewModal(event)\r\n  }\r\n  setTimeout(() => {\r\n    window.scrollTo(0, 0)\r\n  }, 250)\r\n\r\n  window.addEventListener('keyup', closeModal)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}